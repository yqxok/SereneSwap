### RocketSwap

简述：基于spring boot搭建的仿闲鱼平台，用于校园内需要处理闲置物品、以及需要低价购买物品的同学们之间进行

商品交易，功能实现包括发布闲置、查看闲置物品、购买物品、买卖家聊天、系统通知等

开发细节：

* 使用JWT生成带有过期时间的token作为用户登录凭证，利用拦截器和ThreadLocal实现线程隔离的用户登录状态检测
* 采用spring cache+redis的旁路缓存模式，对商品、用户、会话等进行缓存以提高访问速度，并自定义批量缓存框架，满足需要获取批量数据的场景需求，批量缓存设置区间随机过期时间，防止缓存雪崩，同时增加redis主从和哨兵，提高缓存的可用性
* 使用Rocketmq实现互动消息，聊天消息，订单消息的异步通知，为防止消息重复消费，消费者接口将消息存入数据库并添加唯一索引，实现了消费接口的幂等性
* 使用游标分页代替传统分页，利用数据库索引提高查询速度，解决深度分页查询慢的问题，适用于商品信息浏览，商品留言浏览场景
* 使用数据结构前缀树Tree实现了对商品留言，评论回复，聊天消息等内容的敏感词过滤
* 使用java实现的图像处理框架thumbnailator对用户上传的头像、商品图片进行适当压缩，减少存储成本，并使用七牛云OSS作为第三方对象存储库

* 使用netty实现的websocket进行消息推送，利用其多路复用的特性减少系统的网络和线程资源的开销，并添加空闲检测机制，及时处理不活跃和断连的连接
* 系统使用多种设计模式，如使用模板方法开发批量缓存框架，使用适配器模式将查询到的数据转化为前端数据，使用发布订阅模式实现消息通知等



​	